<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping
	PUBLIC "-//Hibernate/Hibernate Mapping DTD 1.1//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd"
>


<hibernate-mapping>
	<class name="nl.openedge.modules.impl.usermanager.hib.UserPrincipal" table="oeaccess_user">

		<id name="id" column="id" type="long" unsaved-value="any">

			<generator class="native" />
		</id>

		<property name="name" type="string" column="name" not-null="true" />

		<property name="password" type="string" column="password" not-null="true" />

		<property name="email" type="string" column="email" />

		<property name="firstName" type="string" column="first_name" />

		<property name="lastName" type="string" column="last_name" />

		<property name="mobile" type="string" column="mobile" />

		<property name="telephone" type="string" column="telephone" />

		<set name="roles" table="oeaccess_user_role" lazy="true" inverse="false" cascade="none" sort="unsorted">

			<key column="user_id" />
			<many-to-many
				class="nl.openedge.modules.impl.usermanager.hib.RolePrincipal"
				column="role_name"
				outer-join="auto" />
		</set>

		<set name="groups" table="oeaccess_user_group" lazy="true" inverse="false" cascade="none" sort="unsorted">

			<key column="user_id" />
			<many-to-many
				class="nl.openedge.modules.impl.usermanager.hib.GroupPrincipal"
				column="group_name"
				outer-join="auto" />
		</set>

	</class>

</hibernate-mapping>
